{
  "timestamp": "2025-11-21T22:09:08.993Z",
  "lessonId": "52800b0d-78ad-44ce-8ac5-36dda606b4ab",
  "stage": "request",
  "requestData": {
    "topic": "greetings and introductions\n",
    "dialect": "darija",
    "level": "beginner",
    "learningTopics": [],
    "vocabularyWords": "",
    "subLessonCount": 2
  },
  "prompt": "\n\tYou are an expert Arabic language teacher creating comprehensive lessons for students learning MOROCCAN DARIJA.\n\t\n\tCRITICAL REQUIREMENTS:\n\t- Generate a complete lesson with exactly 2 sub-lessons\n\t- Each sub-lesson must have at least 1 exercise\n\t- Include exactly 10 review words and 5 review sentences that incorporate those words\n\t- The review sentences must use the review words naturally\n\t- Include a comprehensive quiz at the end with 5-8 questions testing the entire lesson\n\t- All content must be in MOROCCAN DARIJA: Please use Moroccan Darija dialect as spoken in Morocco. Use natural conversational Moroccan Arabic expressions and vocabulary.\n\t\n\tLESSON TOPIC: greetings and introductions\n\n\t\n\tLEVEL: Beginner level - Use very basic vocabulary, simple sentence structures, and fundamental grammar concepts. Focus on essential everyday phrases and common words.\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\tLESSON STRUCTURE REQUIREMENTS:\n\t1. Create a comprehensive lesson with:\n\t   - A clear title in Arabic, English, and transliteration\n\t   - A description explaining what the lesson covers\n\t   - Learning objectives (what students will learn)\n\t   - Estimated duration in minutes\n\t   - Key takeaways (main points to remember)\n\t\n\t2. Create exactly 2 sub-lessons, each with:\n\t   - A unique title in Arabic, English, and transliteration\n\t   - Content section with:\n\t     * At least 5-10 phrases/vocabulary items with Arabic, English, and transliteration\n\t     * Optional grammar explanations\n\t   - EXERCISES: Each sub-lesson MUST have 2-3 exercises (aim for 3 when possible)\n\t     * Exercise types: multiple-choice, fill-in-blank, or matching (DO NOT use translation exercises)\n\t     * Vary exercise types within each sub-lesson\n\t     * If verb conjugation is a focus topic, include at least one exercise specifically testing conjugation\n\t     * Exercises should be comprehensive and test different aspects of the sub-lesson content\n\t     * Make exercises progressively challenging within each sub-lesson\n\t     * CRITICAL: Fill-in-blank exercises MUST include an \"options\" array with multiple choice options for each blank\n\t     * Fill-in-blank exercises should have at least 3-4 options per blank, with only one correct answer per blank\n\t\n\t3. Include a review section with:\n\t   - Exactly 10 review words (Arabic, English, transliteration)\n\t   - Exactly 5 review sentences that naturally incorporate the review words\n\t\n\t4. Add optional but valuable content:\n\t   - Grammar focus: specific grammar rules covered with examples\n\t     * If verb conjugation is covered, MUST include a comprehensive conjugation table\n\t     * Conjugation tables should show ALL persons (I, you m/f, he, she, we, you plural, they m/f) for ALL tenses (present, past, future)\n\t     * Include multiple example verbs showing different conjugation patterns\n\t     * Provide clear explanations of gender distinctions and how they affect conjugation\n\t   - Cultural notes: cultural context related to the lesson\n\t   - Pronunciation tips: notes for difficult sounds with examples\n\t   - Common mistakes: errors to avoid with corrections\n\t     * If verb conjugation is covered, include common conjugation mistakes students make\n\t   - Related lessons: suggestions for related topics\n\t   - Difficulty tags: appropriate tags like \"vocabulary-heavy\", \"grammar-focused\", etc.\n\t   - Audio practice indicators: whether speaking/listening practice is included\n\t   - Quiz: A comprehensive quiz at the end with 8-12 questions testing the entire lesson content\n\t     * If verb conjugation is covered, include multiple quiz questions testing different conjugation forms\n\t     * Quiz should test all major concepts covered in the lesson\n\t\n\t5. Ensure all Arabic text uses MOROCCAN DARIJA dialect/variety\n\t\n\tIMPORTANT FORMATTING:\n\t- All transliterations must use only the English alphabet (no special characters)\n\t- All Arabic text must be in MOROCCAN DARIJA\n\t- Exercises should be practical and help reinforce the lesson content\n\t- Review words should be key vocabulary from the lesson\n\t- Review sentences should demonstrate natural usage of the review words\n\t\n\tCRITICAL JSON STRUCTURE REQUIREMENT:\n\t- Return the lesson data DIRECTLY at the root level, NOT wrapped in a \"lesson\" object\n\t- The JSON must start with: { \"id\": \"...\", \"title\": {...}, \"level\": \"...\", ...\n\t- DO NOT wrap it like: { \"lesson\": { \"title\": {...}, ... } }\n\t- Use camelCase for all field names (NOT snake_case)\n\t- The \"level\" field MUST be lowercase: \"beginner\", \"intermediate\", or \"advanced\" (NOT \"Beginner\" or \"BEGINNER\")\n\t- The \"description\" field MUST be an object: { \"english\": \"...\", \"arabic\": \"...\" } (NOT a string)\n\t\n\tEXACT JSON SCHEMA STRUCTURE (follow this exactly):\n\t{\n\t\t\"id\": \"string (required)\",\n\t\t\"title\": {\n\t\t\t\"arabic\": \"string (required)\",\n\t\t\t\"english\": \"string (required)\",\n\t\t\t\"transliteration\": \"string (required)\"\n\t\t},\n\t\t\"level\": \"beginner\" | \"intermediate\" | \"advanced\" (lowercase, required),\n\t\t\"description\": {\n\t\t\t\"english\": \"string (required)\",\n\t\t\t\"arabic\": \"string (optional)\"\n\t\t},\n\t"
}