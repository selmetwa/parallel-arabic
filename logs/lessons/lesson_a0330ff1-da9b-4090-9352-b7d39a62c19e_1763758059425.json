{
  "timestamp": "2025-11-21T20:47:39.425Z",
  "lessonId": "a0330ff1-da9b-4090-9352-b7d39a62c19e",
  "stage": "request",
  "requestData": {
    "topic": "",
    "dialect": "egyptian-arabic",
    "level": "beginner",
    "learningTopics": [],
    "vocabularyWords": "",
    "subLessonCount": 3
  },
  "prompt": "\n\tYou are an expert Arabic language teacher creating comprehensive lessons for students learning EGYPTIAN ARABIC.\n\t\n\tCRITICAL REQUIREMENTS:\n\t- Generate a complete lesson with exactly 3 sub-lessons\n\t- Each sub-lesson must have at least 1 exercise\n\t- Include exactly 10 review words and 5 review sentences that incorporate those words\n\t- The review sentences must use the review words naturally\n\t- All content must be in EGYPTIAN ARABIC: Please only use words that are commonly used in the Egyptian dialect, not in modern standard Arabic or other dialects.\n\t\n\tLESSON TOPIC: General Arabic language learning\n\t\n\tLEVEL: Beginner level - Use very basic vocabulary, simple sentence structures, and fundamental grammar concepts. Focus on essential everyday phrases and common words.\n\t\n\t\n\t\n\t\n\t\n\tLESSON STRUCTURE REQUIREMENTS:\n\t1. Create a comprehensive lesson with:\n\t   - A clear title in Arabic, English, and transliteration\n\t   - A description explaining what the lesson covers\n\t   - Learning objectives (what students will learn)\n\t   - Estimated duration in minutes\n\t   - Key takeaways (main points to remember)\n\t\n\t2. Create exactly 3 sub-lessons, each with:\n\t   - A unique title in Arabic, English, and transliteration\n\t   - Content section with:\n\t     * At least 5-10 phrases/vocabulary items with Arabic, English, and transliteration\n\t     * Optional grammar explanations\n\t   - At least 1 exercise per sub-lesson (multiple-choice, fill-in-blank, translation, or matching)\n\t\n\t3. Include a review section with:\n\t   - Exactly 10 review words (Arabic, English, transliteration)\n\t   - Exactly 5 review sentences that naturally incorporate the review words\n\t\n\t4. Add optional but valuable content:\n\t   - Grammar focus: specific grammar rules covered with examples\n\t   - Cultural notes: cultural context related to the lesson\n\t   - Pronunciation tips: notes for difficult sounds with examples\n\t   - Common mistakes: errors to avoid with corrections\n\t   - Related lessons: suggestions for related topics\n\t   - Difficulty tags: appropriate tags like \"vocabulary-heavy\", \"grammar-focused\", etc.\n\t   - Audio practice indicators: whether speaking/listening practice is included\n\t\n\t5. Ensure all Arabic text uses EGYPTIAN ARABIC dialect/variety\n\t\n\tIMPORTANT FORMATTING:\n\t- All transliterations must use only the English alphabet (no special characters)\n\t- All Arabic text must be in EGYPTIAN ARABIC\n\t- Exercises should be practical and help reinforce the lesson content\n\t- Review words should be key vocabulary from the lesson\n\t- Review sentences should demonstrate natural usage of the review words\n\t\n\tCRITICAL JSON STRUCTURE REQUIREMENT:\n\t- Return the lesson data DIRECTLY at the root level, NOT wrapped in a \"lesson\" object\n\t- The JSON must start with: { \"id\": \"...\", \"title\": {...}, \"level\": \"...\", ...\n\t- DO NOT wrap it like: { \"lesson\": { \"title\": {...}, ... } }\n\t- Use camelCase for all field names (NOT snake_case)\n\t- The \"level\" field MUST be lowercase: \"beginner\", \"intermediate\", or \"advanced\" (NOT \"Beginner\" or \"BEGINNER\")\n\t- The \"description\" field MUST be an object: { \"english\": \"...\", \"arabic\": \"...\" } (NOT a string)\n\t\n\tEXACT JSON SCHEMA STRUCTURE (follow this exactly):\n\t{\n\t\t\"id\": \"string (required)\",\n\t\t\"title\": {\n\t\t\t\"arabic\": \"string (required)\",\n\t\t\t\"english\": \"string (required)\",\n\t\t\t\"transliteration\": \"string (required)\"\n\t\t},\n\t\t\"level\": \"beginner\" | \"intermediate\" | \"advanced\" (lowercase, required),\n\t\t\"description\": {\n\t\t\t\"english\": \"string (required)\",\n\t\t\t\"arabic\": \"string (optional)\"\n\t\t},\n\t\t\"learningObjectives\": [\"array of strings (optional)\"],\n\t\t\"estimatedDuration\": number (optional, in minutes),\n\t\t\"prerequisites\": [\"array of strings (optional)\"],\n\t\t\"subLessons\": [\n\t\t\t{\n\t\t\t\t\"id\": \"string (required)\",\n\t\t\t\t\"title\": {\n\t\t\t\t\t\"arabic\": \"string\",\n\t\t\t\t\t\"english\": \"string\",\n\t\t\t\t\t\"transliteration\": \"string\"\n\t\t\t\t},\n\t\t\t\t\"content\": {\n\t\t\t\t\t\"title\": { \"arabic\": \"string\", \"english\": \"string\", \"transliteration\": \"string\" },\n\t\t\t\t\t\"phrases\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"arabic\": \"string\",\n\t\t\t\t\t\t\t\"english\": \"string\",\n\t\t\t\t\t\t\t\"transliteration\": \"string\"\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\t\"explanations\": [{\"english\": \"string\"}] (optional)\n\t\t\t\t},\n\t\t\t\t\"exercises\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"id\": \"string\",\n\t\t\t\t\t\t\"type\": \"multiple-choice\" | \"fill-in-blank\" | \"translation\" | \"matching\",\n\t\t\t\t\t\t\"question\": {\n\t\t\t\t\t\t\t\"english\": \"string\",\n\t\t\t\t\t\t\t\"arabic\": \"string (optional)\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"options\": [{\"arabic\": \"string\", \"english\": \"string\", \"transliteration\": \"string\", \"isCorrect\": boolean}] (optional),\n\t\t\t\t\t\t\"correctAnswer\": \"string or array of strings\",\n\t\t\t\t\t\t\"hint\": {\"english\": \"string\", \"arabic\": \"string\", \"transliteration\": \"string\"} (optional)\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t] (REQUIRED - must have at least 3 sub-lessons),\n\t\t\"review\": {\n\t\t\t\"words\": [\n\t\t\t\t{\"arabic\": \"string\", \"english\": \"string\", \"transliteration\": \"string\"}\n\t\t\t] (EXACTLY 10 words required),\n\t\t\t\"sentences\": [\n\t\t\t\t{\"arabic\": \"string\", \"english\": \"string\", \"transliteration\": \"string\"}\n\t\t\t] (EXACTLY 5 sentences required)\n\t\t} (REQUIRED),\n\t\t\"summary\": {\"english\": \"stri"
}